local windows = {}

function createWindow(name)
    table.insert(windows, name)
    for i,v in pairs(game.CoreGui:GetChildren()) do
        if v.Name == name then
            v:Destroy()
        end
    end
    local ScreenGui = Instance.new("ScreenGui")
    local Frame = Instance.new("Frame")
    local container = Instance.new("Frame")
    local UIGridLayout = Instance.new("UIGridLayout")
    local Underline = Instance.new("Frame")
    local UiToggle = Instance.new("TextButton")
    local Name = Instance.new("TextLabel")


    ScreenGui.Parent = game:WaitForChild("CoreGui")
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    ScreenGui.Name = name

    Frame.Parent = ScreenGui
    Frame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    Frame.BorderColor3 = Color3.fromRGB(45, 45, 45)
    Frame.BorderSizePixel = 0
    Frame.Position = UDim2.new(0.00795228686, 0, 0.0306382999, 0)
    Frame.Size = UDim2.new(0, 194, 0, 31)

    container.Name = "container"
    container.Parent = Frame
    container.BackgroundColor3 = Color3.fromRGB(55, 55, 55) 
    container.BorderSizePixel = 0
    container.Position = UDim2.new(0, 0, 0.999999881, 0)
    container.Size = UDim2.new(0, 194, 0, 320)

    UIGridLayout.Parent = container
    UIGridLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    UIGridLayout.SortOrder = Enum.SortOrder.LayoutOrder
    UIGridLayout.CellSize = UDim2.new(0, 175, 0, 40)
    UIGridLayout.StartCorner = Enum.StartCorner.TopRight

    Underline.Name = "Underline"
    Underline.Parent = Frame
    Underline.BackgroundColor3 = Color3.fromRGB(83, 82, 237)
    Underline.BorderColor3 = Color3.fromRGB(83, 82, 237)
    Underline.Position = UDim2.new(0.00515471771, 0, 0.999999881, 0)
    Underline.Size = UDim2.new(0, 192, 0, 0)

    UiToggle.Name = "Ui Toggle"
    UiToggle.Parent = Frame
    UiToggle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    UiToggle.BackgroundTransparency = 1.000
    UiToggle.Position = UDim2.new(0.8041237, 0, 0, 0)
    UiToggle.Size = UDim2.new(0, 37, 0, 31)
    UiToggle.Font = Enum.Font.SourceSans
    UiToggle.Text = "-"
    UiToggle.TextColor3 = Color3.fromRGB(255, 255, 255)
    UiToggle.TextSize = 40.000

    Name.Name = "Name"
    Name.Parent = Frame
    Name.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Name.BackgroundTransparency = 1.000
    Name.Size = UDim2.new(0, 193, 0, 31)
    Name.Font = Enum.Font.Code
    Name.Text = name
    Name.TextColor3 = Color3.fromRGB(255, 255, 255)
    Name.TextSize = 26.000

    local function HXYQ_fake_script() -- UiToggle.Script 
        local script = Instance.new('Script', UiToggle)

        local opened = true
        
        function close()
            if opened == true then
                for i,v in pairs(script.Parent.Parent.container:GetChildren()) do
                    if v.ClassName ~= "UIGridLayout" then
                        v.Visible = false
                    end
                end
                script.Parent.Text = "+"
                script.Parent.Parent.container:TweenSize(UDim2.new(0, 194, 0, 0))
                repeat 
                    wait(0.1)
                until script.Parent.Parent.container.Size.Y == UDim.new(0,0)
                opened = false
            elseif opened == false then
                script.Parent.Text = "-"
                script.Parent.Parent.container:TweenSize(UDim2.new(0, 194, 0, 320))
                repeat 
                    wait(0.1)
                until script.Parent.Parent.container.Size.Y == UDim.new(0,320)
                opened = true
                for i,v in pairs(script.Parent.Parent.container:GetChildren()) do
                    if v.ClassName ~= "UIGridLayout" then
                        v.Visible = true
                    end
                end
            end
            
        end
        
        script.Parent.MouseButton1Click:Connect(close)
    end
    coroutine.wrap(HXYQ_fake_script)()
end

    function createButton(name, window, callback)
        name = name or "New Button"
        callback = callback or function() end
        local check = game.CoreGui:FindFirstChild(window)
        if check ~= nil then
        local Button = Instance.new("TextButton")

        Button.Name = name
        Button.Parent = game.CoreGui[window].Frame.container
        Button.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        Button.BackgroundTransparency = 1.000
        Button.Size = UDim2.new(0, 200, 0, 50)
        Button.Font = Enum.Font.SourceSansSemibold
        Button.TextColor3 = Color3.fromRGB(255, 255, 255)
        Button.TextSize = 25.000
        Button.Text = name

        Button.MouseButton1Click:Connect(function()
            pcall(callback)
            end)
        end
    end

    function createToggle(name, window, callback)
        name = name or "New Toggle"
        callback = callback or function() end
        local switchaction = {}
        local check = game.CoreGui:FindFirstChild(window)
        if check ~= nil then
        local Toggle = Instance.new("Frame")
        local btn = Instance.new("TextButton")
        local label = Instance.new("TextLabel")
        local onoroff = Instance.new("TextLabel")
        local text = Instance.new("TextLabel")
        
        
        
        Toggle.Name = name
        Toggle.Parent = game.CoreGui[window].Frame.container
        Toggle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        Toggle.BackgroundTransparency = 1.000
        Toggle.Position = UDim2.new(0.0489690714, 0, 0.140625, 0)
        Toggle.Size = UDim2.new(0, 175, 0, 39)
        
        btn.Name = "btn"
        btn.Parent = Toggle
        btn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        btn.BackgroundTransparency = 1.000
        btn.Position = UDim2.new(0.797142863, 0, 0.150000006, 0)
        btn.Size = UDim2.new(0, 28, 0, 27)
        btn.Font = Enum.Font.SourceSans
        btn.Text = ""
        btn.TextColor3 = Color3.fromRGB(0, 0, 0)
        btn.TextSize = 14.000
        
        label.Name = "label"
        label.Parent = Toggle
        label.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        label.BackgroundTransparency = 1.000
        label.Size = UDim2.new(0, 132, 0, 40)
        label.Font = Enum.Font.SourceSansSemibold
        label.TextColor3 = Color3.fromRGB(255, 255, 255)
        label.TextSize = 30.000
        label.TextXAlignment = Enum.TextXAlignment.Left
        label.Text = name
        
        onoroff.Name = "onoroff"
        onoroff.Parent = Toggle
        onoroff.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
        onoroff.BorderColor3 = Color3.fromRGB(255, 255, 255)
        onoroff.Position = UDim2.new(0.797142863, 0, 0.149999991, 0)
        onoroff.Size = UDim2.new(0, 28, 0, 27)
        onoroff.Font = Enum.Font.SourceSans
        onoroff.Text = ""
        onoroff.TextColor3 = Color3.fromRGB(0, 0, 0)
        onoroff.TextSize = 14.000
        
        text.Name = "text"
        text.Parent = onoroff
        text.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        text.BackgroundTransparency = 1.000
        text.Size = UDim2.new(0, 28, 0, 27)
        text.Font = Enum.Font.SourceSans
        text.Text = ""
        text.TextColor3 = Color3.fromRGB(0, 0, 0)
        text.TextSize = 20.000

        function Trigger()
            enabled = not enabled
            text.Text = enabled and utf8.char(10003) or ""
            pcall(callback, enabled)
        end

        btn.MouseButton1Click:Connect(Trigger)

        function switchactions:Set(state)
            enableed = state
            text.Text = enabled and utf8.char(10003) or ""
            pcal(callback, enabled)
        end

        return switchactions


        end
    end
